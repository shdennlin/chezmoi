#!/bin/bash
# .config/nvim/version hash: {{ include "dot_config/nvim/version" | sha256sum }}

# Define color codes
NC="\033[0m"
INFO="\033[1;32m"      # Green
WARNING="\033[1;33m"   # Yellow
ERROR="\033[1;31m"     # Red
DEBUG="\033[1;34m"     # Blue
FATAL="\033[1;41m"     # Red background
HIGHLIGHT="\033[1;36m" # Cyan
CMD="\033[1;90m"       # Gray
SUCCESS="\033[1;92m"   # Bright Green

# TODO: Check installed order of Packages -> Neovim
if ! command -v nvim >/dev/null; then
  # TODO: Add instructions for installing Neovim on different Linux distributions, e.g. Ubuntu24.04, Ubuntu20.04, Kali, etc.
  echo -e "${WARNING}Neovim is not installed. Automatically installing Neovim...${NC}"
  {{ if eq .chezmoi.os "darwin" -}}
  cmd="brew install neovim"
  {{ else if eq .chezmoi.os "linux" -}}
  cmd="sudo apt install neovim -y"
  {{ end -}}
  echo -e "${CMD}$cmd${NC}"
  eval $cmd
fi
if ! command -v git >/dev/null; then
  echo -e "${WARNING}You need to install Git first. Please run the following command to install Git:${NC}"
  echo -e "${HIGHLIGHT}sudo apt install git -y${NC}"
  exit 1
fi